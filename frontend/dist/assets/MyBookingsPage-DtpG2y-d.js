import{r as d,j as e,b as l,B as n,L as m}from"./index-DekZCvHk.js";import{u as o,f as r}from"./format-C8CEivjV.js";import{C as x,a as h,b as u,e as j,c as f,d as p}from"./card-D_hbJ8uN.js";import{B as v}from"./badge-Bu4LpEfO.js";import{F as y}from"./file-text-CqElWidf.js";const F=()=>{const{myBookings:a,fetchMyBookings:t,isLoading:c}=o();d.useEffect(()=>{t()},[t]);const i=s=>{switch(s){case"confirmed":return"default";case"pending":return"secondary";case"cancelled":return"destructive";case"completed":return"outline";default:return"secondary"}};return c?e.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-80px)]",children:e.jsx(l,{className:"h-12 w-12 animate-spin text-primary"})}):e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"My Bookings"}),a.length===0?e.jsx("p",{children:"You have no bookings yet."}):e.jsx("div",{className:"space-y-4",children:a.map(s=>e.jsxs(x,{children:[e.jsx(h,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(u,{children:[s.car.make," ",s.car.model," (",s.car.year,")"]}),e.jsxs(j,{className:"pt-1",children:["From ",r(new Date(s.startDate),"PPP")," to ",r(new Date(s.endDate),"PPP")]})]}),e.jsx(v,{variant:i(s.status),className:"capitalize",children:s.status})]})}),e.jsxs(f,{className:"flex items-center gap-4",children:[e.jsx("img",{src:s.car.imageUrl||"https://placehold.co/150x100/F1F5F9/94A3B8?text=No+Image",alt:`${s.car.make} ${s.car.model}`,className:"w-40 h-24 object-cover rounded-md border"}),e.jsxs("div",{className:"text-lg font-semibold",children:["Total Price: $",s.totalPrice.toFixed(2)]})]}),e.jsx(p,{children:["confirmed","completed"].includes(s.status)&&e.jsx(n,{asChild:!0,variant:"outline",children:e.jsxs(m,{to:`/invoice/${s.id}`,children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"View Invoice"]})})})]},s.id))})]})};export{F as default};
