import{j as e,C as j,B as f,L as p,r as g,a as u}from"./index-CIXEv6pl.js";import{u as o}from"./carStore-DqRe6po0.js";import{C as d,a as n,b as m,c as x,d as N}from"./card-CQQJpxgU.js";import{C,M as v,T as y}from"./tag-CWB40ytA.js";import{L as i,I as c}from"./label-CHaFWyQO.js";import"./index-CWfK5RZG.js";const b=({car:s})=>e.jsxs(d,{className:"flex flex-col",children:[e.jsx(n,{className:"p-0",children:e.jsx("img",{src:s.imageUrl||"https://placehold.co/600x400/F1F5F9/94A3B8?text=No+Image",alt:`${s.make} ${s.model}`,className:"rounded-t-lg h-48 w-full object-cover"})}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[e.jsxs(m,{className:"mb-2",children:[s.make," ",s.model]}),e.jsxs(x,{className:"p-0 flex-grow space-y-2 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{className:"w-4 h-4 mr-2"})," ",s.year]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{className:"w-4 h-4 mr-2"})," ",s.type]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{className:"w-4 h-4 mr-2"})," ",s.location]}),e.jsxs("div",{className:"flex items-center text-lg font-semibold text-foreground pt-2",children:[e.jsx(y,{className:"w-4 h-4 mr-2 text-primary"})," $",s.pricePerDay,e.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-1",children:"/ day"})]})]}),e.jsx(N,{className:"p-0 pt-6",children:e.jsx(f,{asChild:!0,className:"w-full",children:e.jsx(p,{to:`/cars/${s.id}`,children:"View Details & Book"})})})]})]}),F=()=>{const{filters:s,setFilters:t}=o(),r=l=>{const{name:a,value:h}=l.target;t({[a]:h})};return e.jsxs(d,{className:"mb-6",children:[e.jsx(n,{children:e.jsx(m,{children:"Filter Cars"})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"searchTerm",children:"Car Name / Model"}),e.jsx(c,{id:"searchTerm",name:"searchTerm",placeholder:"e.g., Toyota Camry",value:s.searchTerm,onChange:r})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"location",children:"Location"}),e.jsx(c,{id:"location",name:"location",placeholder:"e.g., New York",value:s.location,onChange:r})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"maxPrice",children:"Max Price / Day"}),e.jsx(c,{id:"maxPrice",name:"maxPrice",type:"number",placeholder:"e.g., 100",value:s.maxPrice,onChange:r})]})]})})]})},B=()=>{const{filteredCars:s,fetchCars:t,isLoading:r}=o();g.useEffect(()=>{t()},[t]);const l=s.filter(a=>a.availability);return e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Available Cars for Rent"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Find and book the perfect car for your next trip."}),e.jsx(F,{}),r&&l.length===0?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(u,{className:"h-12 w-12 animate-spin text-primary"})}):l.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(a=>e.jsx(b,{car:a},a.id))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"No Cars Match Your Criteria"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Try adjusting your filters or check back later."})]})]})};export{B as default};
