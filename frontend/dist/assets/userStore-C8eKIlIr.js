import{i as c,k as i,t,u as d}from"./index-e5McNQoe.js";const f=c((s,n)=>({profile:null,users:[],isLoading:!1,fetchUserProfile:async()=>{var o,r;s({isLoading:!0});try{const e=await i.get("/users/profile");s({profile:e.data,isLoading:!1})}catch(e){const a=((r=(o=e.response)==null?void 0:o.data)==null?void 0:r.message)||"Failed to fetch profile";s({isLoading:!1}),t.error(a)}},updateUserProfile:async o=>{var r,e;s({isLoading:!0});try{const a=await i.put("/users/update-profile",o);s({profile:a.data,isLoading:!1}),d.setState({user:a.data}),t.success("Profile updated successfully!")}catch(a){const l=((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"Failed to update profile";s({isLoading:!1}),t.error(l)}},fetchAllUsers:async()=>{var o,r;s({isLoading:!0});try{const e=await i.get("/users");s({users:e.data,isLoading:!1})}catch(e){const a=((r=(o=e.response)==null?void 0:o.data)==null?void 0:r.message)||"Failed to fetch users";s({isLoading:!1}),t.error(a)}},deleteUser:async o=>{var r,e;s({isLoading:!0});try{return await i.delete(`/users/${o}`),t.success("User deleted successfully!"),await n().fetchAllUsers(),s({isLoading:!1}),!0}catch(a){const l=((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"Failed to delete user";return s({isLoading:!1}),t.error(l),!1}}}));export{f as u};
