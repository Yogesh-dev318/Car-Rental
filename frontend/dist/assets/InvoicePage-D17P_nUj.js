import{c as j,r as l,j as e,b as p,g as u,a as f,B as v}from"./index-cBVbV_QU.js";import{u as N,f as o}from"./format-BoxI8XLm.js";import{C as y,a as b,b as w,e as P,c as g}from"./card-Bv8qU0OS.js";import{P as D}from"./index-Dc4JOzzd.js";/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],C=j("printer",I);var k="Separator",d="horizontal",E=["horizontal","vertical"],x=l.forwardRef((i,s)=>{const{decorative:a,orientation:t=d,...n}=i,r=R(t)?t:d,h=a?{role:"none"}:{"aria-orientation":r==="vertical"?r:void 0,role:"separator"};return e.jsx(D.div,{"data-orientation":r,...h,...n,ref:s})});x.displayName=k;function R(i){return E.includes(i)}var m=x;const c=l.forwardRef(({className:i,orientation:s="horizontal",decorative:a=!0,...t},n)=>e.jsx(m,{ref:n,decorative:a,orientation:s,className:p("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",i),...t}));c.displayName=m.displayName;const A=()=>{const{bookingId:i}=u(),{invoiceDetails:s,fetchInvoice:a,isLoading:t}=N();l.useEffect(()=>{i&&a(i)},[i,a]);const n=()=>{window.print()};return t?e.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-80px)]",children:e.jsx(f,{className:"h-12 w-12 animate-spin text-primary"})}):s?e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          #invoice-section, #invoice-section * {
            visibility: visible;
          }
          #invoice-section {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
          }
          .no-print {
            display: none;
          }
        }
      `}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 no-print",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Invoice Details"}),e.jsxs(v,{onClick:n,children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Print Invoice"]})]}),e.jsxs(y,{id:"invoice-section",className:"border-2",children:[e.jsx(b,{className:"bg-muted/50",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(w,{className:"text-2xl",children:"Invoice"}),e.jsxs(P,{children:["Booking ID: ",s.bookingId]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold",children:"Rent-A-Car Inc."}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Invoice Date: ",o(new Date(s.invoiceGeneratedDate),"PPP")]})]})]})}),e.jsxs(g,{className:"p-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Billed To:"}),e.jsx("p",{children:s.customerName}),e.jsx("p",{className:"text-muted-foreground",children:s.customerEmail})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Car Details:"}),e.jsx("p",{children:s.carDetails}),e.jsxs("p",{className:"text-muted-foreground",children:["Status: ",e.jsx("span",{className:"capitalize font-medium text-foreground",children:s.status})]})]})]}),e.jsx(c,{className:"my-6"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Booking Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Rental Period"}),e.jsxs("span",{children:[o(new Date(s.startDate),"PPP")," to ",o(new Date(s.endDate),"PPP")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Duration"}),e.jsxs("span",{children:[s.durationDays," Day(s)"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Price Per Day"}),e.jsxs("span",{children:["$",s.pricePerDay.toFixed(2)]})]})]})]}),e.jsx(c,{className:"my-6"}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"w-full max-w-xs space-y-3",children:[e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["$",(s.pricePerDay*s.durationDays).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-xl",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",s.totalPrice.toFixed(2)]})]})]})})]})]})]})]}):e.jsx("div",{className:"text-center py-16",children:"Invoice not found or you are not authorized to view it."})};export{A as default};
